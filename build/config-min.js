/*!build time : 2015-04-11 1:08:33 PM*/
KISSY.add("kg/ks-timeline/3.0.0/config",function(a){var b={myData:null,beginYear:null,endYear:null,maxInterval:null,widthRate:null,navWidth:null,spacer:null,realWidth:null,minLeft:null,maxLeft:null,rate:10,isScaling:!1,reg_songtime:/(\d{4})[^0-9]*(\d{1,2})?[^0-9]*(\d{1,2})?/,scale:200,minRate:3,maxRate:3,setData:function(a){this.myData=a;for(var b=0;b<this.myData.length;++b){var c=this.myData[b].time.match(this.reg_songtime);this.myData[b].time=""+c[1],c[2]&&(this.myData[b].time+=""+(parseInt(c[2],10)>9?parseInt(c[2],10):"0"+parseInt(c[2],10))),c[3]&&(this.myData[b].time+=""+(parseInt(c[3],10)>9?parseInt(c[3],10):"0"+parseInt(c[3],10)))}for(var d=0;d<this.myData.length;++d)for(var e=d+1;e<this.myData.length;++e)if(parseInt(this.myData[e].time,10)<parseInt(this.myData[d].time,10)){var f=this.myData[d];this.myData[d]=this.myData[e],this.myData[e]=f}return this},config:function(a){a.minRate&&(this.minRate=a.minRate),a.maxRate&&(this.maxRate=a.maxRate),a.scale&&(this.scale=a.scale)},largeRate:function(a){return this.rate=2*this.rate,this.initAll(a),this},miniRate:function(a){return this.rate=this.rate/2,this.initAll(a),this},initAll:function(a){return this.beginYear=parseInt(this.myData[0].time&&this.myData[0].time.match(this.reg_songtime)[1]),this.endYear=parseInt(this.myData[this.myData.length-1].time&&this.myData[this.myData.length-1].time.match(this.reg_songtime)[1])+1,this.maxInterval=this.endYear-this.beginYear,this.widthRate=this.rate/(1/1.2/this.scale),this.navWidth=parseInt(this.widthRate*this.maxInterval,10),this.spacer=parseInt(3*a.width()/3,10),this.realWidth=this.navWidth+2*this.spacer,this.minLeft=parseInt(0-this.navWidth+this.spacer/3,10),this.maxLeft=parseInt(this.spacer/3),this}};return b});